[{"C:\\React\\Accounting\\frontend\\src\\invoices\\InvoicePrint.js":"1","C:\\React\\Accounting\\frontend\\src\\shared\\form\\Form.js":"2","C:\\React\\Accounting\\frontend\\src\\index.js":"3","C:\\React\\Accounting\\frontend\\src\\components\\Header.js":"4","C:\\React\\Accounting\\frontend\\src\\screens\\HomeScreen.js":"5","C:\\React\\Accounting\\frontend\\src\\reducers\\invoiceReducers.js":"6","C:\\React\\Accounting\\frontend\\src\\invoices\\CopyInvoice.js":"7","C:\\React\\Accounting\\frontend\\src\\shared\\tables\\CompanyDetailsTable.js":"8","C:\\React\\Accounting\\frontend\\src\\shared\\form\\FormikControl.js":"9","C:\\React\\Accounting\\frontend\\src\\reducers\\clientReducer.js":"10","C:\\React\\Accounting\\frontend\\src\\constants\\invoiceConstants.js":"11","C:\\React\\Accounting\\frontend\\src\\actions\\invoiceActions.js":"12","C:\\React\\Accounting\\frontend\\src\\invoices\\InvoiceItem.js":"13","C:\\React\\Accounting\\frontend\\src\\invoices\\SingleInvoice.js":"14","C:\\React\\Accounting\\frontend\\src\\components\\Footer.js":"15","C:\\React\\Accounting\\frontend\\src\\shared\\form\\Textarea.js":"16"},{"size":3387,"mtime":1610869009062,"results":"17","hashOfConfig":"18"},{"size":2340,"mtime":1610841852550,"results":"19","hashOfConfig":"18"},{"size":587,"mtime":1610054565594,"results":"20","hashOfConfig":"18"},{"size":1201,"mtime":1609173844113,"results":"21","hashOfConfig":"18"},{"size":2934,"mtime":1610898481452,"results":"22","hashOfConfig":"18"},{"size":3029,"mtime":1610897474848,"results":"23","hashOfConfig":"18"},{"size":10245,"mtime":1610635204418,"results":"24","hashOfConfig":"18"},{"size":2026,"mtime":1610815706541,"results":"25","hashOfConfig":"18"},{"size":335,"mtime":1610523275280,"results":"26","hashOfConfig":"18"},{"size":1438,"mtime":1610896102805,"results":"27","hashOfConfig":"18"},{"size":1176,"mtime":1610896204742,"results":"28","hashOfConfig":"18"},{"size":4769,"mtime":1610899241221,"results":"29","hashOfConfig":"18"},{"size":670,"mtime":1610897793949,"results":"30","hashOfConfig":"18"},{"size":4997,"mtime":1610897823576,"results":"31","hashOfConfig":"18"},{"size":427,"mtime":1608824761201,"results":"32","hashOfConfig":"18"},{"size":400,"mtime":1610522957167,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36"},"1tn6h3s",{"filePath":"37","messages":"38","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"45"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\React\\Accounting\\frontend\\src\\invoices\\InvoicePrint.js",["71","72","73","74"],"import React from 'react'\r\nimport { Table } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport CompanyDetailsTable from '../shared/tables/CompanyDetailsTable'\r\nimport { rubles } from 'rubles'\r\nimport classes from './InvoicePrint.module.css'\r\n\r\nconst InvoicePrint = () => {\r\n  const dispatch = useDispatch()\r\n  const invoiceDetails = useSelector((state) => state.invoiceDetails)\r\n  const { loading, error, invoice, current } = invoiceDetails\r\n  console.log(current)\r\n  let date = new Date(current.createdAt).toLocaleString('ru', {\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric',\r\n  })\r\n  console.log(date)\r\n  const text = rubles(current.total)\r\n\r\n  return (\r\n    <div className={classes.InvoicePrint}>\r\n      <CompanyDetailsTable style={{ width: '100)' }} />\r\n      <h2 className='text-center my-4'>\r\n        Счет № {invoice.number} от {date}\r\n      </h2>\r\n      <div>\r\n        <strong>Заказчик: {current.client}</strong>\r\n      </div>\r\n      <div>\r\n        <strong>Плательщик: {current.client}</strong>\r\n      </div>\r\n      <br />\r\n      <span className='mt-5'>Судно: {current.vessel}</span>\r\n      <span className='ml-5'>Рейс: {current.voyage}</span>\r\n      {current.bl && <div>Коносамент: {current.bl}</div>}\r\n      {current.container.length < 14 ? (\r\n        <span>Контейнер №: {current.container}</span>\r\n      ) : (\r\n        <span>Контейнеры №: {current.container}</span>\r\n      )}\r\n      <span style={{ float: 'right' }}>Валюта: рубли</span>\r\n\r\n      <Table className={classes.mainTable} size='sm'>\r\n        {/* <thead > */}\r\n        <tr>\r\n          <th style={{ width: '70%' }}> Наименование товара </th>\r\n          <th> Ед. изм. </th>\r\n          <th> Количество </th>\r\n          <th> Цена </th>\r\n          <th> Сумма </th>\r\n        </tr>\r\n        {/* </thead> */}\r\n        <tbody>\r\n          {current.lines.map((line) => (\r\n            <tr key={line._id}>\r\n              <td>{line.jobDescription}</td>\r\n              <td>Шт.</td>\r\n              <td>{line.quantity}</td>\r\n              <td>{line.cost.toFixed(2)}</td>\r\n              <td>{line.subTotal.toFixed(2)}</td>\r\n            </tr>\r\n          ))}\r\n          <tr>\r\n            <td colSpan='4' style={{ textAlign: 'right' }}>\r\n              <strong>Итого:</strong>\r\n            </td>\r\n            <td>\r\n              <strong>{current.total.toFixed(2)}</strong>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td colSpan='4' style={{ textAlign: 'right' }}>\r\n              <strong>Без налога НДС:</strong>\r\n            </td>\r\n            <td>\r\n              <strong></strong>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td colSpan='4' style={{ textAlign: 'right' }}>\r\n              <strong>Всего к оплате:</strong>\r\n            </td>\r\n            <td>\r\n              <strong>{current.total.toFixed(2)}</strong>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </Table>\r\n      <div className='mt-5'>\r\n        <strong>\r\n          <span style={{ float: 'left' }}>Руководитель предприятия:</span>\r\n          <span style={{ marginLeft: '50%' }}>Попов С.В.</span>\r\n        </strong>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InvoicePrint\r\n","C:\\React\\Accounting\\frontend\\src\\shared\\form\\Form.js",["75","76","77","78","79","80","81","82"],"C:\\React\\Accounting\\frontend\\src\\index.js",[],["83","84"],"C:\\React\\Accounting\\frontend\\src\\components\\Header.js",["85"],"import React from 'react'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { Navbar, Nav, Container } from 'react-bootstrap'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header>\r\n      <Navbar bg='primary' variant='dark' expand='lg' collapseOnSelect>\r\n        <Container>\r\n          <LinkContainer to='/'>\r\n            <Nav.Link>\r\n              <Navbar.Brand>Все Счета</Navbar.Brand>\r\n            </Nav.Link>\r\n          </LinkContainer>\r\n          <Navbar.Toggle aria-controls='basic-navbar-nav' />\r\n          <Navbar.Collapse id='basic-navbar-nav'>\r\n            <Nav className='ml-auto'>\r\n              <LinkContainer to='/new-invoice'>\r\n                <Nav.Link>\r\n                  <i className='fas fa-plus-circle'></i> Новый счет\r\n                </Nav.Link>\r\n              </LinkContainer>\r\n\r\n              <LinkContainer to='/login'>\r\n                <Nav.Link>\r\n                  <i className='fas fa-user'></i>Sign In\r\n                </Nav.Link>\r\n              </LinkContainer>\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </Container>\r\n      </Navbar>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n",["86","87"],"C:\\React\\Accounting\\frontend\\src\\screens\\HomeScreen.js",[],"C:\\React\\Accounting\\frontend\\src\\reducers\\invoiceReducers.js",[],"C:\\React\\Accounting\\frontend\\src\\invoices\\CopyInvoice.js",["88","89","90","91"],"C:\\React\\Accounting\\frontend\\src\\shared\\tables\\CompanyDetailsTable.js",[],"C:\\React\\Accounting\\frontend\\src\\shared\\form\\FormikControl.js",[],"C:\\React\\Accounting\\frontend\\src\\reducers\\clientReducer.js",[],"C:\\React\\Accounting\\frontend\\src\\constants\\invoiceConstants.js",[],"C:\\React\\Accounting\\frontend\\src\\actions\\invoiceActions.js",["92","93","94"],"import axios from 'axios'\r\nimport {\r\n  INVOICE_LIST_REQUEST,\r\n  INVOICE_LIST_FAIL,\r\n  INVOICE_LIST_SUCCESS,\r\n  SET_NEXT_INVOICE_NUMBER,\r\n  INVOICE_DETAILS_REQUEST,\r\n  INVOICE_DETAILS_SUCCESS,\r\n  INVOICE_DETAILS_FAIL,\r\n  INVOICE_CREATE_REQUEST,\r\n  INVOICE_CREATE_SUCCESS,\r\n  INVOICE_CREATE_FAIL,\r\n  INVOICE_MODAL_SHOW,\r\n  INVOICE_MODAL_HIDE,\r\n  SET_CURRENT_INVOICE,\r\n  INVOICE_UPDATE_REQUEST,\r\n  INVOICE_UPDATE_SUCCESS,\r\n  INVOICE_UPDATE_FAIL,\r\n  INVOICE_DELETE_REQUEST,\r\n  INVOICE_DELETE_SUCCESS,\r\n  INVOICE_DELETE_FAIL,\r\n} from '../constants/invoiceConstants'\r\n\r\nexport const listInvoices = () => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: INVOICE_LIST_REQUEST })\r\n\r\n    const { data } = await axios('/api/invoices')\r\n\r\n    dispatch({ type: INVOICE_LIST_SUCCESS, payload: data })\r\n\r\n    const lastNumber = await data.reduce((prev, current) =>\r\n      prev.number > current.number ? prev : current\r\n    )\r\n    const nextNumber = lastNumber.number + 1\r\n    console.log(nextNumber)\r\n    dispatch({ type: SET_NEXT_INVOICE_NUMBER, payload: nextNumber })\r\n  } catch (error) {\r\n    dispatch({\r\n      type: INVOICE_LIST_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    })\r\n  }\r\n}\r\n\r\nexport const listInvoiceDetails = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: INVOICE_DETAILS_REQUEST })\r\n\r\n    const { data } = await axios(`/api/invoices/${id}`)\r\n\r\n    dispatch({ type: INVOICE_DETAILS_SUCCESS, payload: data })\r\n  } catch (error) {\r\n    dispatch({\r\n      type: INVOICE_DETAILS_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    })\r\n  }\r\n}\r\n\r\nexport const createInvoice = (invoice) => async (dispatch, getState) => {\r\n  console.log('NEW INVOICE: ', invoice)\r\n  try {\r\n    dispatch({\r\n      type: INVOICE_CREATE_REQUEST,\r\n    })\r\n\r\n    // const {\r\n    //   userLogin: { userInfo },\r\n    // } = getState()\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        // Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    }\r\n\r\n    const { data } = await axios.post(\r\n      '/api/invoices',\r\n      JSON.stringify(invoice),\r\n      config\r\n    )\r\n\r\n    dispatch({\r\n      type: INVOICE_CREATE_SUCCESS,\r\n      payload: data,\r\n    })\r\n    dispatch(listInvoices())\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message\r\n    // if (message === 'Not authorized, token failed') {\r\n    //   dispatch(logout())\r\n\r\n    dispatch({\r\n      type: INVOICE_CREATE_FAIL,\r\n      payload: message,\r\n    })\r\n    dispatch({ type: INVOICE_MODAL_HIDE })\r\n  }\r\n}\r\n\r\nexport const setCurrentInvoice = (invoice) => (dispatch, getState) => {\r\n  console.log('CURRENT INVOICE: ', invoice)\r\n\r\n  dispatch({ type: SET_CURRENT_INVOICE, payload: invoice })\r\n}\r\n\r\nexport const updateInvoice = (invoice) => async (dispatch, getState) => {\r\n  console.log('UPDATE INVOICE', invoice)\r\n  try {\r\n    dispatch({\r\n      type: INVOICE_UPDATE_REQUEST,\r\n    })\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        // Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    }\r\n\r\n    const { data } = await axios.put(\r\n      `/api/invoices/${invoice._id}`,\r\n      invoice,\r\n      config\r\n    )\r\n\r\n    dispatch({\r\n      type: INVOICE_UPDATE_SUCCESS,\r\n      payload: data,\r\n    })\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message\r\n    // if (message === 'Not authorized, token failed') {\r\n    //   dispatch(logout())\r\n    // }\r\n    dispatch({\r\n      type: INVOICE_UPDATE_FAIL,\r\n      payload: message,\r\n    })\r\n  }\r\n}\r\nexport const deleteInvoice = (id) => async (dispatch, getState) => {\r\n  console.log(id)\r\n  try {\r\n    dispatch({\r\n      type: INVOICE_DELETE_REQUEST,\r\n      payload: id,\r\n    })\r\n\r\n    // const {\r\n    //   userLogin: { userInfo },\r\n    // } = getState()\r\n\r\n    // const config = {\r\n    //   headers: {\r\n    //     Authorization: `Bearer ${userInfo.token}`,\r\n    //   },\r\n    // }\r\n\r\n    await axios.delete(`/api/invoices/${id}`) //, config\r\n\r\n    dispatch({\r\n      type: INVOICE_DELETE_SUCCESS,\r\n      payload: id,\r\n    })\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message\r\n    // if (message === 'Not authorized, token failed') {\r\n    //   dispatch(logout())\r\n    // }\r\n    // dispatch({\r\n    //   type: INVOICE_DELETE_FAIL,\r\n    //   payload: message,\r\n    // })\r\n  }\r\n}\r\n","C:\\React\\Accounting\\frontend\\src\\invoices\\InvoiceItem.js",[],"C:\\React\\Accounting\\frontend\\src\\invoices\\SingleInvoice.js",["95"],"C:\\React\\Accounting\\frontend\\src\\components\\Footer.js",[],"C:\\React\\Accounting\\frontend\\src\\shared\\form\\Textarea.js",[],{"ruleId":"96","severity":1,"message":"97","line":9,"column":9,"nodeType":"98","messageId":"99","endLine":9,"endColumn":17},{"ruleId":"96","severity":1,"message":"100","line":11,"column":11,"nodeType":"98","messageId":"99","endLine":11,"endColumn":18},{"ruleId":"96","severity":1,"message":"101","line":11,"column":20,"nodeType":"98","messageId":"99","endLine":11,"endColumn":25},{"ruleId":"96","severity":1,"message":"102","line":19,"column":9,"nodeType":"98","messageId":"99","endLine":19,"endColumn":13},{"ruleId":"96","severity":1,"message":"103","line":1,"column":17,"nodeType":"98","messageId":"99","endLine":1,"endColumn":25},{"ruleId":"96","severity":1,"message":"104","line":2,"column":23,"nodeType":"98","messageId":"99","endLine":2,"endColumn":34},{"ruleId":"96","severity":1,"message":"105","line":3,"column":13,"nodeType":"98","messageId":"99","endLine":3,"endColumn":16},{"ruleId":"96","severity":1,"message":"106","line":5,"column":16,"nodeType":"98","messageId":"99","endLine":5,"endColumn":19},{"ruleId":"96","severity":1,"message":"107","line":5,"column":29,"nodeType":"98","messageId":"99","endLine":5,"endColumn":32},{"ruleId":"96","severity":1,"message":"108","line":6,"column":24,"nodeType":"98","messageId":"99","endLine":6,"endColumn":35},{"ruleId":"96","severity":1,"message":"109","line":11,"column":8,"nodeType":"98","messageId":"99","endLine":11,"endColumn":21},{"ruleId":"96","severity":1,"message":"110","line":13,"column":7,"nodeType":"98","messageId":"99","endLine":13,"endColumn":19},{"ruleId":"111","replacedBy":"112"},{"ruleId":"113","replacedBy":"114"},{"ruleId":"96","severity":1,"message":"115","line":4,"column":10,"nodeType":"98","messageId":"99","endLine":4,"endColumn":17},{"ruleId":"111","replacedBy":"116"},{"ruleId":"113","replacedBy":"117"},{"ruleId":"96","severity":1,"message":"118","line":12,"column":8,"nodeType":"98","messageId":"99","endLine":12,"endColumn":14},{"ruleId":"96","severity":1,"message":"119","line":15,"column":3,"nodeType":"98","messageId":"99","endLine":15,"endColumn":15},{"ruleId":"96","severity":1,"message":"100","line":38,"column":11,"nodeType":"98","messageId":"99","endLine":38,"endColumn":18},{"ruleId":"96","severity":1,"message":"101","line":38,"column":20,"nodeType":"98","messageId":"99","endLine":38,"endColumn":25},{"ruleId":"96","severity":1,"message":"120","line":13,"column":3,"nodeType":"98","messageId":"99","endLine":13,"endColumn":21},{"ruleId":"96","severity":1,"message":"121","line":21,"column":3,"nodeType":"98","messageId":"99","endLine":21,"endColumn":22},{"ruleId":"96","severity":1,"message":"122","line":181,"column":11,"nodeType":"98","messageId":"99","endLine":181,"endColumn":18},{"ruleId":"96","severity":1,"message":"103","line":1,"column":17,"nodeType":"98","messageId":"99","endLine":1,"endColumn":25},"no-unused-vars","'dispatch' is assigned a value but never used.","Identifier","unusedVar","'loading' is assigned a value but never used.","'error' is assigned a value but never used.","'text' is assigned a value but never used.","'useState' is defined but never used.","'useSelector' is defined but never used.","'Yup' is defined but never used.","'Col' is defined but never used.","'Row' is defined but never used.","'listClients' is defined but never used.","'FormikControl' is defined but never used.","'reqdFieldMsg' is assigned a value but never used.","no-native-reassign",["123"],"no-negated-in-lhs",["124"],"'NavLink' is defined but never used.",["123"],["124"],"'Loader' is defined but never used.","'createClient' is defined but never used.","'INVOICE_MODAL_SHOW' is defined but never used.","'INVOICE_DELETE_FAIL' is defined but never used.","'message' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]